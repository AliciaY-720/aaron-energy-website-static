---
import TopBar from "./TopBar.astro";
import Logo from "./Logo.astro";
import Button from "./Button.astro";
import { Icon } from "astro-icon/components";

const navItems = [
  { name: "Home", href: "/" },
  { name: "About", href: "/about" },
  { name: "Services", href: "/service" },
];
---

<TopBar />

<header class="bg-white shadow-md sticky top-0 z-50" x-data="{ open: false }">
  <div class="max-w-7xl mx-auto px-4">
    <!-- TOP ROW -->
    <div class="flex justify-between items-center py-4">
      <!-- LOGO -->
      <div class="flex items-center gap-3 min-h-16">
        <Logo />
      </div>

      <!-- DESKTOP NAV -->
      <nav class="hidden md:flex items-center gap-8">
        {navItems.map((item) => (
          <a href={item.href} class="text-dark hover:text-primary font-medium transition">
            {item.name}
          </a>
        ))}

        <!-- BUTTON -->
        <Button
          href="/contact"
          variant="primary"
          size="sm"
          icon="bi:send"
        >
          Contact Us
        </Button>
      </nav>

      <!-- MOBILE TOGGLE -->
      <button 
        x-on:click="open = !open" 
        class="md:hidden text-dark text-3xl"
        aria-label="Toggle Mobile Menu"
      >
        <span x-show="!open">
          <Icon name="bi:list" />
        </span>

        <span x-show="open" style="display: none;">
          <Icon name="bi:x-lg" />
        </span>
      </button>
    </div>

    <!-- MOBILE MENU -->
    <nav
      x-show="open"
      x-transition
      style="display: none;"
      class="md:hidden pb-4 flex flex-col gap-1"
    >
      {navItems.map((item) => (
        <a href={item.href} class="block py-2 text-dark hover:text-primary transition">
          {item.name}
        </a>
      ))}

      <Button
        href="/contact"
        variant="primary"
        size="sm"
        icon="bi:send"
        class="w-full mt-2"
      >
        Contact Us
      </Button>
    </nav>
  </div>
</header>